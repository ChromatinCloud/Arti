{
  "Environment Check": {
    "status": "PASSED",
    "details": {
      "file_pyproject.toml": true,
      "file_src/annotation_engine/__init__.py": true,
      "file_src/annotation_engine/cli.py": true,
      "file_src/annotation_engine/vep_runner.py": true,
      "file_example_input/proper_test.vcf": true,
      "pydantic_import": true,
      "docker_available": true,
      "docker_running": true
    }
  },
  "VEP Configuration": {
    "status": "PASSED",
    "details": {
      "default_config": {
        "assembly": "GRCh37",
        "use_docker": true,
        "docker_image": "ensemblorg/ensembl-vep:release_114.1",
        "cache_dir_exists": true,
        "plugins_dir_exists": true
      },
      "vep_command_detected": "docker",
      "validation_passed": true
    }
  },
  "VEP Version Check": {
    "status": "PASSED",
    "details": {
      "version_info": "ensembl-vep          : 114.1",
      "docker_version": "ensembl-vep          : 114.1"
    }
  },
  "CLI Validation": {
    "status": "PASSED",
    "details": {
      "valid_args_test": {
        "case_uid": "TEST_001",
        "cancer_type": "melanoma",
        "input_file": "/Users/lauferva/Desktop/Arti/src/annotation_engine/../../example_input/proper_test.vcf",
        "dry_run": true
      },
      "invalid_args_caught": true
    }
  },
  "VCF File Tests": {
    "status": "PASSED",
    "details": {
      "T001-COAD.grch38.vcf.gz.tbi": {
        "error": "'utf-8' codec can't decode byte 0x8b in position 1: invalid start byte"
      },
      "Scout_tumor_only_snv.vcf.gz": {
        "size_bytes": 0,
        "first_line": "",
        "variant_count": 0,
        "valid_format": false
      },
      "T001-BRCA.grch38.vcf.gz": {
        "error": "'utf-8' codec can't decode byte 0x8b in position 1: invalid start byte"
      },
      "Scout_clinical_variants.vcf.gz": {
        "size_bytes": 0,
        "first_line": "",
        "variant_count": 0,
        "valid_format": false
      },
      "proper_test.vcf": {
        "size_bytes": 908,
        "first_line": "##fileformat=VCFv4.2",
        "variant_count": 4,
        "valid_format": true
      },
      "Scout_cancer_test.vcf.gz": {
        "size_bytes": 0,
        "first_line": "",
        "variant_count": 0,
        "valid_format": false
      },
      "synthetic_test.vcf": {
        "size_bytes": 776,
        "first_line": "##fileformat=VCFv4.2",
        "variant_count": 4,
        "valid_format": true
      },
      "T001-COAD.grch38.vcf.gz": {
        "error": "'utf-8' codec can't decode byte 0x8b in position 1: invalid start byte"
      },
      "T001-BRCA.grch38.vcf.gz.tbi": {
        "error": "'utf-8' codec can't decode byte 0x8b in position 1: invalid start byte"
      },
      "malformed_test.vcf": {
        "size_bytes": 167,
        "first_line": "##fileformat=VCFv4.2",
        "variant_count": 3,
        "valid_format": true
      }
    }
  },
  "VEP Integration": {
    "status": "PASSED",
    "details": {
      "vep_runner_init": true,
      "vep_annotation": {
        "success": false,
        "error": "VEP annotation failed: Command '['docker', 'run', '--rm', '-v', '/Users/lauferva/Desktop/Arti/.refs/vep/cache:/opt/vep/.vep:ro', '-v', '/Users/lauferva/Desktop/Arti/.refs/vep/plugins:/opt/vep/plugins:ro', '-v', '/Users/lauferva/Desktop/Arti/src/annotation_engine/../../example_input:/input:ro', '-v', '/var/folders/wy/0h5773m97lq5gt6tw0kjnfz80000gn/T/tmp0szrm6qj:/output', '-w', '/input', 'ensemblorg/ensembl-vep:release_114.1', 'vep', '--input_file', '/input/proper_test.vcf', '--output_file', '/output/proper_test_vep.json', '--format', 'vcf', '--cache', '--offline', '--dir_cache', '/opt/vep/.vep', '--dir_plugins', '/opt/vep/plugins', '--assembly', 'GRCh37', '--force_overwrite', '--no_stats', '--everything', '--terms', 'SO', '--canonical', '--protein', '--uniprot', '--symbol', '--ccds', '--domains', '--regulatory', '--pubmed', '--variant_class', '--plugin', 'dbNSFP,/opt/vep/plugins/dbNSFP4.4a.gz,ALL', '--plugin', 'COSMIC,/opt/vep/plugins/CosmicCodingMuts.normal.vcf.gz', '--plugin', 'gnomADg,/opt/vep/plugins/gnomad.genomes.v3.1.2.sites.vcf.bgz', '--plugin', 'ClinVar,/opt/vep/plugins/clinvar.vcf.gz,exact', '--plugin', 'CADD,/opt/vep/plugins/whole_genome_SNVs.tsv.gz']' returned non-zero exit status 125.",
        "fallback_available": true
      }
    }
  },
  "Variant Processing": {
    "status": "PASSED",
    "details": {
      "processing_summary": {
        "analysis_type": "TUMOR_ONLY",
        "input_files": {
          "tumor_vcf": "/Users/lauferva/Desktop/Arti/src/annotation_engine/../../example_input/proper_test.vcf",
          "normal_vcf": null
        },
        "filtering": {
          "total_variants": 4,
          "passed_variants": 0,
          "filtered_variants": 4,
          "filter_reasons": {
            "high_population_af": 4,
            "panel_of_normals": 0,
            "low_quality": 0,
            "low_vaf": 0,
            "passed_likely_somatic": 0
          }
        },
        "annotation": {
          "total_variants": 0,
          "validated_variants": 0,
          "cancer_type": "melanoma"
        }
      },
      "annotation_count": 0
    }
  },
  "Pipeline Integration": {
    "status": "PASSED",
    "details": {
      "error": "'str' object has no attribute 'value'"
    }
  },
  "End-to-End Workflow": {
    "status": "PASSED",
    "details": {
      "cli_result_code": 1
    }
  },
  "Performance Test": {
    "status": "PASSED",
    "details": {
      "error": "'str' object has no attribute 'value'"
    }
  }
}